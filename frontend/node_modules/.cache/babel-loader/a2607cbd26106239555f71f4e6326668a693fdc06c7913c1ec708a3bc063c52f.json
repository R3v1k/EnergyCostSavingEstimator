{"ast":null,"code":"var _s = $RefreshSig$();\n// hooks/useUserId.js\nimport { useMemo } from 'react';\nimport { jwtDecode } from 'jwt-decode'; // ← curly braces!\n\nexport function useUserId() {\n  _s();\n  const token = localStorage.getItem('accessToken');\n  return useMemo(() => {\n    if (!token) return null;\n    try {\n      const {\n        sub,\n        roles,\n        iat,\n        exp\n      } = jwtDecode(token);\n      const payload = jwtDecode(token);\n      console.log('JWT payload:', payload);\n      if (Date.now() >= exp * 1000) return null;\n      return iat !== null && iat !== void 0 ? iat : null;\n    } catch {\n      return null;\n    }\n  }, [token]);\n}\n_s(useUserId, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");","map":{"version":3,"names":["useMemo","jwtDecode","useUserId","_s","token","localStorage","getItem","sub","roles","iat","exp","payload","console","log","Date","now"],"sources":["C:/Users/Михаил/EnergyCostSavingEstimator/frontend/src/hooks/useUserId.js"],"sourcesContent":["// hooks/useUserId.js\r\nimport { useMemo } from 'react';\r\nimport { jwtDecode } from 'jwt-decode';   // ← curly braces!\r\n\r\nexport function useUserId() {\r\n  const token = localStorage.getItem('accessToken');\r\n\r\n  return useMemo(() => {\r\n    if (!token) return null;\r\n\r\n    try {\r\n      const { sub, roles, iat, exp } = jwtDecode(token);\r\n      const payload = jwtDecode(token);\r\n      console.log('JWT payload:', payload);\r\n      if (Date.now() >= exp * 1000) return null;\r\n      return iat ?? null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [token]);\r\n}\r\n"],"mappings":";AAAA;AACA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,SAAS,QAAQ,YAAY,CAAC,CAAG;;AAE1C,OAAO,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjD,OAAON,OAAO,CAAC,MAAM;IACnB,IAAI,CAACI,KAAK,EAAE,OAAO,IAAI;IAEvB,IAAI;MACF,MAAM;QAAEG,GAAG;QAAEC,KAAK;QAAEC,GAAG;QAAEC;MAAI,CAAC,GAAGT,SAAS,CAACG,KAAK,CAAC;MACjD,MAAMO,OAAO,GAAGV,SAAS,CAACG,KAAK,CAAC;MAChCQ,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,OAAO,CAAC;MACpC,IAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIL,GAAG,GAAG,IAAI,EAAE,OAAO,IAAI;MACzC,OAAOD,GAAG,aAAHA,GAAG,cAAHA,GAAG,GAAI,IAAI;IACpB,CAAC,CAAC,MAAM;MACN,OAAO,IAAI;IACb;EACF,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;AACb;AAACD,EAAA,CAhBeD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}