{"ast":null,"code":"var _s = $RefreshSig$();\n// hooks/useUserId.js\nimport { useMemo } from 'react';\nimport { jwtDecode } from 'jwt-decode'; // ← curly braces!\n\nexport function useUserId() {\n  _s();\n  const token = localStorage.getItem('access_token');\n  return useMemo(() => {\n    if (!token) return null;\n    try {\n      const {\n        sub,\n        exp\n      } = jwtDecode(token); // works in v4+\n      if (Date.now() >= exp * 1000) return null;\n      return sub !== null && sub !== void 0 ? sub : null;\n    } catch {\n      return null;\n    }\n  }, [token]);\n}\n_s(useUserId, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");","map":{"version":3,"names":["useMemo","jwtDecode","useUserId","_s","token","localStorage","getItem","sub","exp","Date","now"],"sources":["C:/Users/Михаил/EnergyCostSavingEstimator/frontend/src/hooks/useUserId.js"],"sourcesContent":["// hooks/useUserId.js\r\nimport { useMemo } from 'react';\r\nimport { jwtDecode } from 'jwt-decode';   // ← curly braces!\r\n\r\nexport function useUserId() {\r\n  const token = localStorage.getItem('access_token');\r\n\r\n  return useMemo(() => {\r\n    if (!token) return null;\r\n\r\n    try {\r\n      const { sub, exp } = jwtDecode(token); // works in v4+\r\n      if (Date.now() >= exp * 1000) return null;\r\n      return sub ?? null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [token]);\r\n}\r\n"],"mappings":";AAAA;AACA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,SAAS,QAAQ,YAAY,CAAC,CAAG;;AAE1C,OAAO,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAElD,OAAON,OAAO,CAAC,MAAM;IACnB,IAAI,CAACI,KAAK,EAAE,OAAO,IAAI;IAEvB,IAAI;MACF,MAAM;QAAEG,GAAG;QAAEC;MAAI,CAAC,GAAGP,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC;MACvC,IAAIK,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIF,GAAG,GAAG,IAAI,EAAE,OAAO,IAAI;MACzC,OAAOD,GAAG,aAAHA,GAAG,cAAHA,GAAG,GAAI,IAAI;IACpB,CAAC,CAAC,MAAM;MACN,OAAO,IAAI;IACb;EACF,CAAC,EAAE,CAACH,KAAK,CAAC,CAAC;AACb;AAACD,EAAA,CAdeD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}